name: gcc
website: https://gcc.gnu.org
description:

version:
  - 7.4.0

archive: http://ftp.gnu.org/gnu/gcc/gcc-{{version}}/gcc-{{version}}.tar.xz
git:

depend:
  - mpc
  - gmp
  - zlib
  - mpfr

build:
  type: configure
  build_path: _build
  step:
    - >-
      {{repo_path}}/configure
      --prefix={{install_path}}
      --disable-multilib --enable-checking=release
      --enable-languages=c,c++
      --with-system-zlib
      --with-mpc={{deps_paths.mpc}}
      --with-gmp={{deps_paths.gmp}}
      --with-mpfr={{deps_paths.mpfr}}
    - "make -j {{thread_num}}"
    - "make install"
